<script>
  import Header from "./Section/Templates/Header.svelte";
  import Paragraph from "./Section/Templates/Paragraph.svelte";
  import Image from "./Section/Templates/Image.svelte";
  import AccessArticle from "./Section/Templates/AccessArticle.svelte";
  import CodeSyntax from "./Section/Templates/CodeDescription/CodeSyntax.svelte";

  const article = {
    head: `User Component`,
    description: `YarÄ±m kalmÄ±ÅŸ bir User Component'imiz bulunuyordu. 
      TanÄ±mladÄ±ÄŸÄ±mÄ±z <code><i>Store</i></code> deÄŸerlerini <code><i>User 
      componenti</code></i> deÄŸerlerinde kullanalÄ±m. Burada yapacaÄŸÄ±mÄ±z son
      rÃ¶tÃ¼ÅŸlar ile birlikte kullanÄ±cÄ±nÄ±n oyun arayÃ¼zÃ¼ne eriÅŸmesini saÄŸlayalÄ±m.`,
    otherDescription: `<code><i>ImageAvatar.svelte component</i></code> 
      Ã¼zerinde, kullanÄ±cÄ± avatar'a click eventini gerÃ§ekleÅŸtirdiÄŸinde, 
      <code><i>userInfo classinda</i></code> oluÅŸturduÄŸumuz avatar deÄŸerini 
      gÃ¼ncelleyelim.`,
    anotherDescription: `Bu gÃ¼ncelleme ile birlikte kullanÄ±cÄ±nÄ±n seÃ§tiÄŸi ve 
      mouse ile Ã¼zerinde gezindiÄŸi avatarlarÄ±n 'opacity' deÄŸeri deÄŸiÅŸerek avatar
      resmi vurgulanacak.`,
    anAnotherDescription: `Import ettiÄŸimiz <code><i>UserInfo 
      class'inda</i></code> yer alan <code><i>$name store</i></code> deÄŸerini, 
      'bind:value' metodu ile gÃ¼ncelleyebiliriz.`, // ğŸ’©
    moreAnotherDescription: `Åimdi en gÃ¼zel tarafÄ±na gelelim.. Son rÃ¶tÃ¼ÅŸlarÄ± 
      yapÄ±p oyunu baÅŸlatalÄ±m. 
      <code><i>components > Playground > Wrapper > Playground.svelte</i></code>
      componenti Ã¼zerinde bir <code><i>if/else</i></code> yapÄ±sÄ± tanÄ±mlayalÄ±m.
      <code><i>isStart store</i></code> deÄŸerimiz false ise kullanÄ±cÄ±yÄ± 
      <code><i>name&avatar</i></code> seÃ§imi yapabildiÄŸi 
      <code><i>Componente</i></code> yÃ¶nlendirsin. Bunun aksi ise basit bir hata
      bilgisi gÃ¶sterelim.`, // ğŸ’©
    moreDescription: `DÃ¶ngÃ¼ler gibi <code><i>if/else Logic'leri</i></code> 
      kullanabilirsiniz. <code><i>else if</i></code> ihtiyacÄ±nda bir ÅŸart 
      ifadesi olarak <code><i>else if isStart === undefined</i></code>
      tanÄ±mlaman yeterli olacaktÄ±r.`,
    descriptionCode: `<code><i>StartGame fonksiyonu</i></code> ile birlikte 
      <code><i>name ve avatar store</i></code> deÄŸerleri kontrol edilecek. Bu
      deÄŸerlerin boÅŸ olmamasÄ± durumunda <code><i>isStart store</i></code>
      deÄŸerine <code><i>true</i></code> atanarak, oyun baÅŸlatÄ±lacak konsola bir
      bilgi yazÄ±lacak. Bu deÄŸerlerden herhangi biri bulunmuyorsa 
      <code><i>User componenti</i></code> bulunduÄŸu yerde kalmaya devam
      edicektir. BÃ¶yle bir ihtimal iÃ§in, <code><i>class directives</i></code>
      kullanarak kullanÄ±cÄ±yÄ± bilgilendirelim.`,
    codeExplanation: `on:click metoduna baÄŸladÄ±ÄŸÄ±mÄ±z fonksiyon ile kullanÄ±cÄ±nÄ±n 
      tÄ±kladÄ±ÄŸÄ± avatar Ã¼zerinde bilgiyi kolay bir ÅŸekilde elde edebiliyoruz. 
      Konsolu aÃ§arak, loglarÄ± inceleyebilirsin.<code><i>ImageAvatar componentine
      </i></code> parametre olarak gÃ¶nderdiÄŸimiz avatar bilgisine
      eriÅŸebiliyoruz, bunu kullanarak fonksiyonu biraz daha basit hale 
      getirelim.`,
    otherCodeExplanation: `KullanÄ±cÄ± avatarlar Ã¼zerine her click iÅŸlemi 
      gerÃ§ekleÅŸtirdiÄŸinde, <code><i>$avatar</i></code> deÄŸerini gÃ¼ncelliyoruz. 
      <code><i>ImageAvatar.svelte componentini</i></code> geÃ§meden Ã¶nce 
      <code><i>class directives</i></code> kullanarak yÄ±llaar yÄ±lllaarr Ã¶nce
      tanÄ±mladÄ±ÄŸÄ±mÄ±z <code><i>.picked ve .unpicked</i></code> classlarÄ±nÄ± 
      anlamlÄ± bir hale getirelim.`,
    oneLineDescription: `KullanÄ±cÄ±dan almamÄ±z gereken diÄŸer bir deÄŸer, 
      <code><i>username</i></code>.`,
    endStory: `<code><i>Class Directive'lerde</i></code> yardÄ±mÄ±na baÅŸvurabilmek
      iÃ§in <code><i>isAvatarEmpty ve isNameEmpty</i></code> isminde iki farklÄ±
      deÄŸer oluÅŸturdum. <code><i>Button'Ä±n</i></code> altÄ±nda bir 
      <code><i>div etiketi</i></code> daha oluÅŸturarak, hata mesajÄ±nÄ± burada
      gÃ¶steriyorum. <code><i>Name</i></code> iÃ§in olan hata mesajÄ±nÄ± sen
      dÃ¼zenle.. Ve oluÅŸturduÄŸum <code><i>div etiketini</i></code> bir component
      olarak yeniden oluÅŸturup, hem <code><i>name</i></code> hemde 
      <code><i>avatar</i></code> iÃ§in kullanabilirsin. Bunu gerÃ§ekleÅŸtir, hemen
      ardÄ±ndan bir sonraki baÅŸlÄ±kta seni bekliyorum.`,
    image: `assets/components/User/class-directive.gif`,
    anotherImage: `assets/components/User/start-game.gif`,
    alternativeText: `Class Directives`,
    anotherAlternativeText: `Class Directives`,
    id: "reactive-user-component",
  };

  const code = `
    <script>
      import { userInfo } from "../../../Store/User";

      const { avatar } = userInfo;

      export let userAvatar;

      const setAvatar = () => {
        console.log("focus on avatar => ", userAvatar);

        $avatar = userAvatar;

        console.log($avatar);
      };
    <\/script>

    <img
      src={userAvatar}
      class="avatar unpicked"
      alt="avatar"
      on:click={setAvatar}
    />
  `;

  const otherCode = `
    <script>
      import { userInfo } from "../../../Store/User";
  
      const { avatar } = userInfo;
  
      export let userAvatar;
  
      const avatarName = userAvatar.match(/\w*(?=.\w+$)/)[0];
    <\/script>

    <img
      src={userAvatar}
      class="avatar unpicked"
      alt="avatar"
      on:click={() => ($avatar = avatarName)}
    />
  `;

  const oneMoreCode = `
    <img
      src={userAvatar}
      class="avatar unpicked"
      alt="avatar"
      class:picked={avatarName === $avatar}
      on:click={() => ($avatar = avatarName)}
      />
  `;

  const anotherOneMoreCode = `
    <script>
      import { userInfo } from "../../../Store/User";

      const { name } = userInfo;
    <\/script>

    <div class="user">
      <input
        type="text"
        class="name"
        name="name"
        placeholder="pika pika"
        bind:value={$name}
      />
    </div>
  `;

  const moreCode = `
    <script>
      import UserGround from "../../User/UserGround.svelte";
      import { userInfo } from "../../../Store/User";
  
      const { isStart } = userInfo;
    <\/script>

    <main class="playground">
      {#if $isStart}
        <h3>Start Game....</h3>
      {#else}
        <UserGround />
      {/if}
    </main>
  `;

  const anotherAnOneMoreCode = `
    <script>
      import { userInfo } from "../../Store/User";
      
      const { name, avatar, isStart } = userInfo;

      const startGame = () => {
        if ($avatar === "") {
          return;
        }

        if ($name === "") {
          return;
        }

        $isStart = true;

        console.log("::::: start game :::::");
        console.log(":: enjoy {$name} ::");
      };
    <\/script>

    <div class="start">
      <button on:click={startGame}>Start</button>
    </div>
  `;

  const endCode = `
    <script>
      import { userInfo } from "../../Store/User";
      
      const { name, avatar, isStart } = userInfo;

      let isAvatarEmpty = false;
      let isNameEmpty = false;

      const startGame = () => {
        if ($avatar === "") {
          isAvatarEmpty = true;
          return;
        }

        if ($name === "") {
          return;
        }

        $isStart = true;

        console.log("::::: start game :::::");
        console.log(":: enjoy {$name} ::");
      };
    <\/script>

    <div class="start">
      <button on:click={startGame}>Start</button>
      <div class="avatarError visible">
        <span class="unvisible" class:visible={$avatar === "" && isAvatarEmpty}>
          please, select a avatar..
        </span>
      </div>
    </div>
    
    <style>
      .name {
        width: 40%;
        border-radius: 20px;
        text-align: center;
        margin-bottom: 30px;
        padding: 8px 0;
      }

      .avatarError {
        color: red;
        font-size: 18px;
      }

      .unvisible {
        display: none;
      }

      .visible {
        display: block;
      }

      .start button:active {
        border: 2px solid white;
      }
    </style>
  `;

  const title = `componenets > User > Avatars > ImageAvatar.svelte`;
  const otherTitle = `componenets > User > Avatars > ImageAvatar.svelte`;
  const anotherOneMoreTitle = `componenets > User > Avatars > 
    ImageAvatar.svelte`; //ğŸ’©
  const moreTitle = `componenets > Playground > Wrapper > Playground.svelte`; //ğŸ’©
</script>

<article>
  <AccessArticle link={article.id} />
  <Header head={article.head} />
  <Paragraph text={article.description} />
  <Paragraph text={article.otherDescription} />
  <CodeSyntax {code} {title} />
  <Paragraph text={article.codeExplanation} />
  <CodeSyntax code={otherCode} title={otherTitle} />
  <Paragraph text={article.otherCodeExplanation} />
  <CodeSyntax code={oneMoreCode} />
  <Paragraph text={article.anotherDescription} />
  <Image image={article.image} alternativeText={article.alternativeText} />
  <Paragraph text={article.oneLineDescription} />
  <CodeSyntax code={anotherOneMoreCode} title={anotherOneMoreTitle} />
  <Paragraph text={article.anAnotherDescription} />
  <Paragraph text={article.moreAnotherDescription} />
  <CodeSyntax code={moreCode} title={moreTitle} />
  <Paragraph text={article.moreDescription} />
  <CodeSyntax code={anotherAnOneMoreCode} title={moreTitle} />
  <Image
    image={article.anotherImage}
    alternativeText={article.alternativeText}
  />
  <Paragraph text={article.descriptionCode} />
  <CodeSyntax code={endCode} />
  <Paragraph text={article.endStory} />
</article>
