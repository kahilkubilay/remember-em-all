<script>
  import Header from "./Section/Templates/Header.svelte";
  import Paragraph from "./Section/Templates/Paragraph.svelte";
  import Image from "./Section/Templates/Image.svelte";
  import AccessArticle from "./Section/Templates/AccessArticle.svelte";
  import CodeSyntax from "./Section/Templates/CodeDescription/CodeSyntax.svelte";
  import List from "./Section/Templates/List.svelte";

  const article = {
    head: `Elindeki KartlarÄ± GÃ¶ster â™ ï¸`,
    description: `ArayÃ¼z Ã¼zerindeki bu gÃ¼ncellemelerimizin ardÄ±ndan, oyun 
      alanÄ±mÄ±za kartlarÄ± sereserpebiliriz. Bu bÃ¶lÃ¼mde kartlarÄ± oyun alanÄ±na 
      ekleyeceÄŸiz.`,
    otherDescription: `Oyun arayÃ¼zÃ¼nde birtakÄ±m iÅŸlemleri gerÃ§ekleÅŸtirebilmek 
      iÃ§in bazÄ± fonksiyonlar tanÄ±mlayacaÄŸÄ±z. SRC klasÃ¶rÃ¼mÃ¼n altÄ±nda 
      <code><i>GameAction</i></code> isminde yeni bir klasÃ¶r oluÅŸturuyorum.
      Bu klasÃ¶r altÄ±nda tanÄ±mlayacaÄŸÄ±mÄ±z fonksiyonlar aÅŸaÄŸÄ±daki iÅŸlemleri 
      gerÃ§ekleÅŸtirecek:`,
    anotherDescription: `AdÄ±m adÄ±m ilerleyelim.. Seviyeye baÄŸÄ±mlÄ± 
      olarak ArayÃ¼z Ã¼zerinde yer alacak sayÄ± aralÄ±ÄŸÄ±nÄ± oluÅŸturalÄ±m.`,
    anAnotherDescription: `Parametre olarak verdiÄŸimiz sayÄ± deÄŸerleri 1, 5 ve 4
      deÄŸerleri konsol Ã¼zerinde gÃ¶rÃ¼ntÃ¼lenen array deÄŸerlerini oluÅŸturmamÄ±zÄ± 
      saÄŸlÄ±yor. Belirli aralÄ±klarÄ± kapsayan bir sayÄ±mÄ±z bulunuyorsa, array 
      iÃ§erisinde yer alan sayÄ±larÄ± random olarak karÄ±ÅŸtÄ±rmamÄ±zÄ±n Ã¶nÃ¼ne 
      geÃ§ebilecek bir durum bulunmuyor.`, // ğŸ’©
    moreDescription: `KartlarÄ± oyun arayÃ¼zÃ¼ Ã¼zerinde listeleyebilmemiz iÃ§in 
      gerekli fonksiyonlarÄ±mÄ±zÄ± oluÅŸturduk. BunlarÄ± kullanarak 
      <code><i>Playground</i></code> alanÄ±nÄ± coÅŸturalÄ±m.`,
    descriptionCode: `<code><i>Playground bileÅŸeninde 
      mixedListOfPokemon</i></code> isminde store deÄŸeri oluÅŸturduk. Bu deÄŸer
      random sayÄ±larÄ±, id deÄŸerlerimiz ile birlikte tutuyor. Bir dÃ¶ngÃ¼ 
      iÃ§erisinde bu deÄŸerleri props olarak <code><i>Card</i></code> ismindeki
      bileÅŸene aktaralÄ±m. AktarÄ±lan deÄŸerleri CardFront ve CardBack isimli 
      bileÅŸenlerimizde kullancaÄŸÄ±z.`,
    codeExplanation: `<code><i>ListCards.svelte</i></code> dosyasÄ±nda yer alan
      list fonksiyonuna ihtiyacÄ±m olduÄŸu iÃ§in modÃ¼lÃ¼ dÄ±ÅŸarÄ± aktardÄ±m.
      Fonksiyonun basit bir gÃ¶revi bulunuyor. Parametre olarak verilen deÄŸerle
      birlikte 5 sayÄ± bÃ¼yÃ¼klÃ¼ÄŸÃ¼nde bir aralÄ±ÄŸÄ± array tipinde dÃ¶ndÃ¼rmelidir.
      <code><i>range</i></code> deÄŸerimiz eriÅŸmek istediÄŸimiz toplam aralÄ±k
      uzunluÄŸunu ifade ediyor. <code><i>maxNumberReachedOnRange</i></code> 
      deÄŸeri eriÅŸilecek olan maximum sayÄ± deÄŸerini verirken, 
      <code><i>minNumberReachedOnRange</i></code> deÄŸeri maximum deÄŸeri 
      kullanarak minumum sayÄ±yÄ± elde etmemize imkan saÄŸlÄ±yor. 
      <code><i>Playground bileÅŸenimizde</i></code> Ã§aÄŸÄ±rarak nasÄ±l bir sonuÃ§
      verdiÄŸini kontol edelim.`,
    otherCodeExplanation: `<code><i>MixCards bileÅŸeninde</i></code> 
      oluÅŸturacaÄŸÄ±mÄ±z fonksiyonu kullanarak, list fonksiyonundan elde ettiÄŸimiz
      array iÃ§erisinde yer alan deÄŸerleri kopyalayacaÄŸÄ±z. SayÄ± aralÄ±ÄŸÄ±mÄ±z 5 
      olduÄŸunda, yeni oluÅŸacak olan array deÄŸerimizde toplamda 10 deÄŸer yer 
      alacak. Bu deÄŸerler belirli bir sÄ±rayÄ± takip etmek yerine array iÃ§erisinde
      random yer alacaklar. Ä°lerde kartlarÄ± eÅŸleÅŸtirebilme iÅŸlemi iÃ§in, her
      kartÄ±n sÄ±ra numarasÄ±na gÃ¶re id deÄŸeri atayalÄ±m.`,
    endStory: `KartlarÄ±mÄ±zÄ± arayÃ¼z Ã¼zerine baÅŸarÄ±lÄ± bir ÅŸekilde sÄ±raladÄ±k. 
      Bir Ã¶nceki bÃ¶lÃ¼mde yaptÄ±ÄŸÄ±mÄ±z gibi, .flipper class deÄŸerinin bulunduÄŸu 
      elemente .hover eklediÄŸimizde kartÄ±n CardFront componentini 
      gÃ¶zlemleyebiliriz.`,
    image: `assets/components/GameAction/function-of-list-cards.png`,
    anotherImage: `assets/components/GameAction/shuffle-cards.png`,
    moreImage: `assets/components/GameAction/card-components.png`,
    alternativeText: `Display of ListCards module on console`,
    anotherAlternativeText: `Display of MixCards module on console`,
    moreAlternativeText: `Observing CardFront and CardBack components`,
    terms: [
      {
        command: `LevelUpdate`,
        description: `ArayÃ¼z Ã¼zerinde bÃ¼tÃ¼n kartlar doÄŸru eÅŸleÅŸtirildiÄŸinde, 
          bir sonraki seviye geÃ§ilmesi saÄŸlanacak.`,
      },
      {
        command: `ListCards`,
        description: `ArayÃ¼z Ã¼zerindeki kartlar seviyeye gÃ¶re getirilecek. 
          1. seviyede 0-5 aralÄ±ÄŸÄ±nda kartlar getirilirken, 2. seviyede 5-10 ve 
          3. seviyede 10-15 sayÄ±larÄ±na ait kartlar arayÃ¼ze yansÄ±tÄ±lacak. AralÄ±k 
          deÄŸerlerini buradaki fonksiyon ile kurgulayacaÄŸÄ±z.`,
      },
      {
        command: `MixCards`,
        description: `ArayÃ¼z Ã¼zerine gelen kartlar bir sÄ±ra halinde deÄŸil, 
          random daÄŸÄ±tÄ±lmalÄ±dÄ±r. MixCards fonksiyonu ile bunu 
          gerÃ§ekleÅŸtireceÄŸiz.`,
      },
      {
        command: `CloseOpenCards`,
        description: `EÅŸleÅŸmeyen 2 kart aÃ§Ä±ldÄ±ÄŸÄ±nda veya bÃ¼tÃ¼n kartlar doÄŸru 
          eÅŸleÅŸtiÄŸinde bir sonraki eriÅŸilecek seviye iÃ§in kartlar arayÃ¼zde 
          kapalÄ± olmalÄ±dÄ±r. Her iki durumda geÃ§erli fonksiyonlarÄ± 
          tanÄ±mlayacaÄŸÄ±z.`,
      },
    ],
    id: "show-cards-in-your-hand",
  };

  const code = `
    <script context="module">
      export const list = (level) => {
        const list = [];
        const range = 5;
        const maxNumberReachedOnRange = level * 5;
        let minNumberReachedOnRange = maxNumberReachedOnRange - 4;

        for(minNumberReachedOnRange; 
          minNumberReachedOnRange <= maxNumberReachedOnRange; 
          minNumberReachedOnRange++) {
          list.push(levelCounter);
        }

        return list;
      }
    <\/script>
  `;

  const otherCode = `
    <script context="module">
      export const shuffle = (pokemonList) => {
        let shakeList = [];
        const duplicateList = pokemonList.concat(pokemonList);
        const totalNumberRange = duplicateList.length - 1;

        for(let counter = 0; counter <= totalNumberRange; counter++) {
          let pokemonNo = counter;
          const randomNumb = Math.trunc(Math.random() * duplicateList.length);

          shakeList = [
            { no: pokemonNo, id: duplicateList[randomNumber] },
            ...shakeList
          ];

          duplicateList.splice(duplicateList.indexOf(duplicateList[randomNumb]), 1);
        }

        return shakeList;
      }
    <\/script>
  `;

  const oneMoreCode = `
      <script>
        import UserGround from "../../User/UserGround.svelte";
        import { userInfo } from "../../../Store/User";
        import Card from "./Cards/Card.svelte";
        import { list } from "../../GameAction/ListCards.svelte";
        import { shuffle } from "../../GameAction/MixCards.svelte";
        import { level } from "../../../Store/Level";

        const { isStart } = userInfo;
        $: pokemonList = list($level);
        $: mixedListOfPokemon = shuffle(pokemonList);
      <\/script>

      <main class="playground">
        {#if !$isStart}
          {#each mixedListOfPokemon as pokemon}
            <Card {pokemon} />
          {/each}
        {:else}
          <UserGround />
        {/if}
      </main>

      <style>
        .playground {
          width: 900px;
          margin: 0 auto;
          text-align: center;
        }
      </style>
  `;

  const anotherOneMoreCode = `
    <script>
      export let pokemon;

      $: pokemonId = pokemon.id;
    <\/script>

    <div class="front">
      <img
        src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{pokemonId}.png"
        alt="card on the playing field"
        class="single-poke"
      />
    </div>
    
    <style>
      .front {
        width: 100px;
        height: 100px;
        backface-visibility: hidden;
        transition: 0.6s;
        transform-style: preserve-3d;
        position: absolute;
        top: 0;
        left: 0;
        transform: rotateY(-180deg);
      }

      .single-poke {
        border-radius: 11px;
        background-color: #fff;
        box-shadow: 2px 2px 4px #8c8c8c, -12px -12px 22px #fff;
      }
    </style>
  `;

  const moreCode = `
    <script>
      import FrontCardFace from "./CardFront.svelte";
      import BackCardFace from "./CardBack.svelte";
    <\/script>

    <main class="flip-container">
      <div class="flipper"></div>
    </main>

    <style>
      .back {
        width: 100px;
        height: 100px;
        backface-visibility: hidden;
        transition: 0.6s;
        transform-style: preserve-3d;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
        transform: rotateY(0deg);
        border-radius: 11px;
      }

      .back:hover {
        cursor: pointer;
      }

      .single-poke {
        border-radius: 11px;
        background: #fff;
        box-shadow: 2px 2px 4px #8c8c8c, -12px -12px 22px #fff;
      }  
    </style>
  `;

  const anotherAnOneMoreCode = `
    <script>
      import FrontCardFace from "./CardFront.svelte";
      import BackCardFace from "./CardBack.svelte";

      export let pokemon;  
    <\/script>

    <main class="flip-container">
      <div class="flipper">
        <BackCardFace {pokemon} />
        <FrontCardFace {pokemon} />
      </div>
    </main>

    <style>
      .flip-container {
        perspective: 1000px;
        transform-style: preserve-3d;
        display: inline-block;
        margin: 5px;
        width: 100px;
        height: 100px;
      }

      .flipper {
        position: relative;
      }
    </style>
  `;

  const title = `componenets > GameAction > ListCards.svelte`;
  const otherTitle = `componenets > GameAction > MixCards.svelte`;
  const oneMoreTitle = `components > Playground > Cards > Wrapper > 
    Playground.svelte`;
  const moreTitle = `components > Playground > Wrapper > Cards > Card.svelte`;
  const anotherTitle = `components > Playground > Wrapper > Cards > 
    CardBack.svelte`;
</script>

<article>
  <AccessArticle link={article.id} />
  <Header head={article.head} />
  <Paragraph text={article.description} />
  <Paragraph text={article.otherDescription} />
  <List material={article.terms} />
  <Paragraph text={article.anotherDescription} />
  <CodeSyntax {code} {title} />
  <Paragraph text={article.codeExplanation} />
  <Image image={article.image} alternativeText={article.alternativeText} />
  <Paragraph text={article.anAnotherDescription} />
  <CodeSyntax code={otherCode} title={otherTitle} />
  <Paragraph text={article.otherCodeExplanation} />
  <Image
    image={article.anotherImage}
    alternativeText={article.alternativeText}
  />
  <Paragraph text={article.moreDescription} />
  <CodeSyntax code={oneMoreCode} title={oneMoreTitle} />
  <Paragraph text={article.descriptionCode} />
  <CodeSyntax code={moreCode} title={moreTitle} />
  <CodeSyntax code={anotherAnOneMoreCode} title={anotherTitle} />
  <CodeSyntax code={anotherOneMoreCode} title={anotherTitle} />
  <Paragraph text={article.endStory} />
  <Image
    image={article.moreImage}
    alternativeText={article.moreAlternativeText}
  />
</article>
